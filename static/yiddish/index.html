<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yiddish & Klezmer Calendar</title>

  <!-- ✅ FullCalendar Global Bundle -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
  <link rel="stylesheet" href="index.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat+Brush&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

</head>
<body>

<!--  <header>-->
<!--    <h1>Yiddish & Klezmer in Boston</h1>-->
<!--    <button class="signup-btn" onclick="alert('Signup form coming soon!')">✉️ Sign Up</button>-->
<!--  </header>-->

<img src="images/header.png" alt="" id="header-image">
<!--  <img src="images/sides.png" id="sides-image" alt="">-->
<div id="calendar-container">
  <!--  sign up button-->
  <button class="signup-btn" onclick="alert('Signup form coming soon!')">✉️ Sign Up!</button>
  <div id="calendar"></div>
</div>
<img src="images/bottom.png" alt="" id="bottom-image">
<!--<img src="website_background.png" alt="" id="background-image">-->

<div id="calendarModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span> <span
          class="sr-only">close</span></button>
        <h4 id="modalTitle" class="modal-title"></h4>
      </div>
      <div id="modalBody" class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

<script src="eventsData.js"></script>

<script>
  // ✅ Mock event data

  document.addEventListener('DOMContentLoaded', function () {
    const calendarEl = document.getElementById('calendar');

    const calendar = new FullCalendar.Calendar(calendarEl, {
      themeSystem: 'bootstrap5',
      initialView: 'dayGridMonth',
      height: 'auto',
      events: window.eventsData.map(ev => ({title: ev.title, start: ev.start, extendedProps: {location: ev.location}})),
      eventClick: function (info) {
        document.getElementById('modalTitle').textContent = info.event.title;
        document.getElementById('modalBody').textContent = info.event.extendedProps.location || '';
        const modal = new bootstrap.Modal(document.getElementById('calendarModal'));
        modal.show();
      },
      customButtons: {
        prevHand: {
          text: '<<', click() {
            calendar.prev();
          }
        }, nextHand: {
          text: '>>', click() {
            calendar.next();
          }
        },
      },
      headerToolbar: {left: 'prevHand', center: 'title', right: 'nextHand'},
    });

    calendar.render();

    function updateCalendarView() {
      if (window.innerWidth < 1000) {
        calendar.changeView('listMonth');
      } else {
        calendar.changeView('dayGridMonth');
      }
    }

    window.addEventListener('resize', updateCalendarView);
  });
</script>

</body>
</html>
